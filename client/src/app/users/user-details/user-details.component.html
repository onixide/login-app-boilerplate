<div *ngIf="!invalidUser; else invalidUserComponent">
  <h4 class="text-center mt-3 mb-3">
    <!-- {{ editing ? ("Editing : "{{ user.login }}`) : ("Details : "{{
      user.login
    }}) }} -->
    {{ editing ? 'Editing' : 'Details' }} : {{ user.login }}
  </h4>
  <div class="d-flex justify-content-between">
    <p [style.visibility]="!dirty ? 'hidden' : 'visible'">
      {{ user.login }} -> {{ editedUser?.login }}
    </p>
    <p *ngIf="errors.length !== 0" class="text-danger">
      {{ errors }}
    </p>
  </div>

  <form [formGroup]="userDetailsForm" #f (ngSubmit)="onSubmit()">
    <div class="pb-2 pt-2">
      <div class="input-group">
        <div class="input-group-prepend">
          <label for="uderID" class="font-weight-bold input-group-text"
            >ID:
          </label>
        </div>
        <input
          type="text"
          class="form-control"
          [value]="user._id"
          name="userID"
          disabled
        />
      </div>

      <div class="input-group ">
        <div class="input-group-prepend">
          <label for="userLogin" class="font-weight-bold input-group-text"
            >Login:
          </label>
        </div>
        <input
          type="text"
          class="form-control"
          name="userLogin"
          formControlName="userLogin"
          required
          minlength="2"
          (keyup)="onInput($event)"
        />
      </div>
      <div class="input-group">
        <div class="input-group-prepend">
          <label for="userLogin" class="font-weight-bold input-group-text "
            >Created:
          </label>
        </div>
        <input
          type="text"
          class="form-control"
          [value]="user.created | date: 'medium'"
          name="userLogin"
          disabled
        />
      </div>
    </div>
    <!-- </div> -->

    <button
      *ngIf="!editing"
      (click)="onEdit()"
      class="btn btn-dark ml-1 mr-1"
      type="button"
    >
      Edit
    </button>

    <button
      *ngIf="editing"
      (click)="onCancel()"
      class="btn btn-dark ml-1 mr-1"
      type="button"
    >
      Cancel
    </button>

    <button (click)="onDelete()" class="btn btn-dark ml-1 mr-1" type="button">
      Delete
    </button>

    <button *ngIf="dirty" class="btn btn-dark ml-1 mr-1" type="submit">
      Save
    </button>

    <!-- <button *ng-If="heroForm.touched" (click)="onDelete()" class="btn btn-dark ml-1 mr-1" type="submit">
    Save
  </button> -->
    <!-- </div> -->
    <!-- </div> -->
  </form>

  <ng-template #invalidUserComponent>
    <div class="d-flex flex-column align-items-center">
      <p>
        {{ invalidUser.message }}
      </p>
      <button class="btn btn-light" routerLink="/users">
        Przejdź do listy użytkowników
      </button>
    </div>
  </ng-template>
</div>
